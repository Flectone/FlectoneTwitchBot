plugins {
    id 'java'
    id 'com.gradleup.shadow' version '8.3.0'
}

group = 'net.flectone.twitch'
version = '1.0'

repositories {
    mavenCentral()
}

dependencies {
    implementation("net.elytrium:serializer:1.1.1")
    implementation("com.github.twitch4j:twitch4j:1.21.0")
    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.3.5'

    compileOnly("org.projectlombok:lombok:1.18.34")
    annotationProcessor("org.projectlombok:lombok:1.18.34")
}

compileJava.options.encoding = 'UTF-8'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

tasks.jar {
    manifest.attributes["Main-Class"] = "net.flectone.twitch.FlectoneTwitchBot"
}

shadowJar {
    archiveFileName = "FlectoneTwitchBot-" + version + ".jar"
}